# ============================================================
# ? LUIGARAH - Configuração LOCAL (banco Oracle XE / XEPDB1)
# ============================================================
# Este arquivo é usado quando você executa o projeto localmente,
# fora do ambiente Oracle Cloud. Para ativar:
#   ? mvn spring-boot:run -Dspring-boot.run.profiles=local
# ou defina no IntelliJ:
#   SPRING_PROFILES_ACTIVE=local
# ============================================================


# -----------------------------
# ? Servidor da aplicação
# -----------------------------
server.port=8080
# Porta local onde a API do Luigarah vai rodar (ex: http://localhost:8080)


# -----------------------------
# ? Banco de dados Oracle LOCAL
# -----------------------------
# Configuração típica do Oracle XE (ou container XEPDB1)
# A porta 1522 é a que foi mapeada pelo Docker / instalação local
# SERVICE_NAME = XEPDB1
spring.datasource.url=jdbc:oracle:thin:@//localhost:1522/XEPDB1

# Usuário e senha criados para a aplicação Luigarah
spring.datasource.username=APP_LUIGARAH
spring.datasource.password=G9!pV3#z12LUIGARAHAPPoracle

# Driver JDBC padrão da Oracle
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver


# -----------------------------
# ? JPA / Hibernate
# -----------------------------
# Cria e atualiza as tabelas automaticamente no schema especificado
spring.jpa.hibernate.ddl-auto=update

# Exibe as queries SQL no console (para depuração)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Dialeto otimizado para Oracle 12c+ (compatível com XE e ADB)
spring.jpa.database-platform=org.hibernate.dialect.Oracle12cDialect

# Define o schema padrão (assim você não precisa prefixar tabelas com o nome do schema)
spring.jpa.properties.hibernate.default_schema=APP_LUIGARAH

# Corrige comportamento de criação de LOBs no Oracle
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true


# -----------------------------
# ? Pool de Conexões (HikariCP)
# -----------------------------
# Gerencia conexões com o banco de forma eficiente e segura
spring.datasource.hikari.pool-name=Hikari-Oracle-Local
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.connection-test-query=SELECT 1 FROM dual


# -----------------------------
# ? Swagger UI
# -----------------------------
# Define o endpoint base do Swagger (acessível via http://localhost:8080)
springdoc.swagger-ui.path=/


# -----------------------------
# ? CORS (origens permitidas)
# -----------------------------
# Libera acesso do front-end local (React / Next) e do deploy Vercel
app.cors.origens-permitidas=http://localhost:3000,https://luigarah.vercel.app


# -----------------------------
# ? Logs da aplicação
# -----------------------------
# Define o nível de log para pacotes do projeto Luigarah
logging.level.com.luigarah=DEBUG

# (Opcional) nível global ? INFO é o padrão ideal para ambiente local
# logging.level.root=INFO


# ============================================================
# ? Dica: Para alternar entre o Oracle Cloud e o Local:
# - Mantenha este arquivo como "application-local.properties"
# - E o do Oracle Cloud como "application.properties"
# - O Spring escolhe automaticamente conforme o perfil ativo
# ============================================================
